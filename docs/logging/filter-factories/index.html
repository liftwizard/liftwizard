<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" /> 
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"> 
<title>Liftwizard: Filter Factories</title>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JBFKWT91J2"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag() {
		dataLayer.push(arguments);
	}
	gtag("js", new Date());

	gtag("config", "G-JBFKWT91J2");
</script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-JBFKWT91J2"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag() {
		dataLayer.push(arguments);
	}
	gtag("js", new Date());

	gtag("config", "G-JBFKWT91J2");
</script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-JBFKWT91J2"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag() {
		dataLayer.push(arguments);
	}
	gtag("js", new Date());

	gtag("config", "G-JBFKWT91J2");
</script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-JBFKWT91J2"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag() {
		dataLayer.push(arguments);
	}
	gtag("js", new Date());

	gtag("config", "G-JBFKWT91J2");
</script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-JBFKWT91J2"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag() {
		dataLayer.push(arguments);
	}
	gtag("js", new Date());

	gtag("config", "G-JBFKWT91J2");
</script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-JBFKWT91J2"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag() {
		dataLayer.push(arguments);
	}
	gtag("js", new Date());

	gtag("config", "G-JBFKWT91J2");
</script>
<link rel="stylesheet" type="text/css" href="/docs/static/css/katex.min.css">
<link rel="stylesheet" type="text/css" href="/docs/static/main.css">
<link rel="stylesheet" type="text/css" href="/docs/static/css/global-overrides.css">
<link rel="stylesheet" type="text/css" href="/docs/static/css/global-overrides.css">
<link rel="stylesheet" type="text/css" href="/docs/static/css/global-overrides.css">
</head>
<link rel="shortcut icon" href="/docs/favicon.png"type="image/ico"/>
<body class="znai-theme theme-znai-dark">
<script>(function() {
    var themeNameKey = 'znaiTheme';
    var darkThemeName = 'znai-dark';
    var lightThemeName = 'default';

    var znaiTheme = {
        changeHandlers: [],
        addChangeHandler(handler) {
            this.changeHandlers.push(handler);
        },
        removeChangeHandler(handler) {
            var idx = this.changeHandlers.indexOf(handler);
            this.changeHandlers.splice(idx, 1);
        },
        set(name) {
            this.name = name;
            document.body.className = 'znai-theme theme-' + name;

            var idx = 0;
            var len = this.changeHandlers.length;
            for (; idx < len; idx++) {
                this.changeHandlers[idx](name);
            }
        },
        setExplicitly(name) {
            storeThemeName(name);
            this.set(name);
        },
        setExplicitlyIfNotSetAlready(name) {
            const themeName = getStoredThemeName();
            if (themeName) {
                return
            }

            this.setExplicitly(name)
        },
        toggle() {
            this.setExplicitly(this.name === lightThemeName ? darkThemeName : lightThemeName)
        }
    };

    var mediaThemeName = setLightMatchMediaListenerAndGetThemeName()
    var themeName = getStoredThemeName() || mediaThemeName;
    znaiTheme.set(themeName);

    window.znaiTheme = znaiTheme;

    function getStoredThemeName() {
        return localStorage.getItem(themeNameKey);
    }

    function storeThemeName(name) {
        return localStorage.setItem(themeNameKey, name);
    }

    function setLightMatchMediaListenerAndGetThemeName() {
        if (!window.matchMedia) {
            return darkThemeName;
        }

        var lightQuery = window.matchMedia('(prefers-color-scheme: light)');
        lightQuery.addListener(function (e) {
            const newThemeName = e.matches ? lightThemeName : darkThemeName;
            znaiTheme.setExplicitly(newThemeName);
        });

        return lightQuery.matches ? lightThemeName : darkThemeName;
    }
})()</script>
<div id="znai"><div id="znai-initial-page-loading" style="margin: -20px 0 0 -20px; padding: 0 40px 40px 0; width: 100vw; height: 100vh; display: flex; justify-content: center; align-items: center">
    <div></div>
</div><section id="page-content" style="max-width: 640px; margin-left: auto; margin-right: auto;">
<article>
<p>Dropwizard comes with support for dynamic configuration of log filters However it ships with just a single filter the UriFilterFactory One can create logging filters that will intercept log statements before they are written and decide if theyre allowed Log filters can work on both regular statements and request log statements Liftwizard provides an improved for request logs and for plain logs RequestUrlFilterFactory is an improved version of It can filter access logs that do or don t match a list of urls To use it add a dependency on Then add a filter factory to your config with type and a list of to include or exclude The default value of is JaninoFilterFactory allows you to specify the filter condition in a snippet of Java code that gets compiled with Janino To use it add a dependency on Then add a filter factory to your config with type and a that evaluates to a boolean The default value of is RequestUrlFilterFactory JaninoFilterFactory RequestUrlFilterFactory UriFilterFactory liftwizard config logging filter requesturl url urls onMatch ch qos logback core spi FilterReply DENY JaninoFilterFactory liftwizard config logging filter janino janino javaExpression onMatch ch qos logback core spi FilterReply DENY logging level DEBUG appenders type console timeZone $ LOGGING_TIMEZONE system logFormat %highlight % 5level %cyan %date HH mm ss SSS %dwTimeZone %gray %file %line %white %thread %blue %marker %magenta %mdc %green %logger %message%n%rootException filterFactories type janino javaExpression logger equals io liftwizard logging p6spy P6SpySlf4jLogger &amp;&amp; mdc get liftwizard bundle equals DdlExecutorBundle onMatch DENY</p>
</article>
</section>
<section id="table-of-contents" style="max-width: 640px; margin-left: auto; margin-right: auto;">
<article>
<a href="/docs/introduction/liftwizard/">Liftwizard</a>
</article>

<article>
<a href="/docs/configuration/environment-variable-substitution/">Environment Variable Substitution</a>
</article>

<article>
<a href="/docs/configuration/json5-configuration/">Json5 Configuration</a>
</article>

<article>
<a href="/docs/configuration/ConfigLoggingBundle/">ConfigLoggingBundle</a>
</article>

<article>
<a href="/docs/jackson/ObjectMapperBundle/">ObjectMapperBundle</a>
</article>

<article>
<a href="/docs/logging/JerseyHttpLoggingBundle/">JerseyHttpLoggingBundle</a>
</article>

<article>
<a href="/docs/logging/buffered-logging/">Buffered Logging</a>
</article>

<article>
<a href="/docs/logging/filter-factories/">Filter Factories</a>
</article>

<article>
<a href="/docs/logging/Slf4jUncaughtExceptionHandlerBundle/">Slf4jUncaughtExceptionHandlerBundle</a>
</article>

<article>
<a href="/docs/graphql/bundle/">Bundle</a>
</article>

<article>
<a href="/docs/graphql/instrumentation-logging/">Instrumentation Logging</a>
</article>

<article>
<a href="/docs/graphql/instrumentation-metrics/">Instrumentation Metrics</a>
</article>

<article>
<a href="/docs/graphql/data-fetcher-async/">Data Fetcher Async</a>
</article>

<article>
<a href="/docs/reladomo/reladomo-overview/">Reladomo Overview</a>
</article>

<article>
<a href="/docs/reladomo/reladomo-operation-compiler/">Reladomo Operation Compiler</a>
</article>

<article>
<a href="/docs/database/named-data-source/">Named Data Source</a>
</article>

<article>
<a href="/docs/database/liquibase-migrations/">Liquibase Migrations</a>
</article>

<article>
<a href="/docs/auth/dynamic-authentication-and-impersonation/">Dynamic Authentication And Impersonation</a>
</article>

<article>
<a href="/docs/testing/testing/">Testing</a>
</article>

<article>
<a href="/docs/testing/matching-files/">Matching Files</a>
</article>

<article>
<a href="/docs/testing/matching-json/">Matching Json</a>
</article>

<article>
<a href="/docs/maven/maven-best-practices/">Maven Best Practices</a>
</article>

<article>
<a href="/docs/maven/minimal-parent/">Minimal Parent</a>
</article>

<article>
<a href="/docs/maven/profile-parent/">Profile Parent</a>
</article>

<article>
<a href="/docs/maven/bill-of-materials/">Bill Of Materials</a>
</article>

<article>
<a href="/docs/temporal-data/temporal-data-overview/">Temporal Data Overview</a>
</article>

<article>
<a href="/docs/temporal-data/running-example/">Running Example</a>
</article>

<article>
<a href="/docs/temporal-data/non-destructive-updates/">Non Destructive Updates</a>
</article>

<article>
<a href="/docs/temporal-data/as-of-queries/">As Of Queries</a>
</article>

<article>
<a href="/docs/temporal-data/versioning/">Versioning</a>
</article>

<article>
<a href="/docs/temporal-data/auditing/">Auditing</a>
</article>

<article>
<a href="/docs/temporal-data/optimistic-locking/">Optimistic Locking</a>
</article>

<article>
<a href="/docs/temporal-data/diffs/">Diffs</a>
</article>

<article>
<a href="/docs/temporal-data/maker-checker-workflows/">Maker Checker Workflows</a>
</article>
</section>
</div>
<script type="text/javascript" src="/docs/footer.js"></script>
<script type="text/javascript" src="/docs/toc.js"></script>
<script type="text/javascript" src="/docs/assets.js"></script>
<script type="module" src="/docs/static/__vite-browser-external-8Pss11n5.js"></script>
<script type="module" src="/docs/static/architecture-U656AL7Q-DjPBJmSV.js"></script>
<script type="module" src="/docs/static/architectureDiagram-VXUJARFQ-ChBn1xk8.js"></script>
<script type="module" src="/docs/static/blockDiagram-VD42YOAC-Budi6d17.js"></script>
<script type="module" src="/docs/static/c4Diagram-YG6GDRKO-Blf-Q85b.js"></script>
<script type="module" src="/docs/static/classDiagram-2ON5EDUG-CV-r9Le6.js"></script>
<script type="module" src="/docs/static/classDiagram-v2-WZHVMYZB-FjmVyVcW.js"></script>
<script type="module" src="/docs/static/cose-bilkent-S5V4N54A-CwokiWn5.js"></script>
<script type="module" src="/docs/static/dagre-6UL2VRFP-qGDT-4E-.js"></script>
<script type="module" src="/docs/static/diagram-PSM6KHXK-asygiqY4.js"></script>
<script type="module" src="/docs/static/diagram-QEK2KX5R-RckI0Vxl.js"></script>
<script type="module" src="/docs/static/diagram-S2PKOQOG-D3NvEb3Q.js"></script>
<script type="module" src="/docs/static/erDiagram-Q2GNP2WA-Cyp4lw77.js"></script>
<script type="module" src="/docs/static/flowDiagram-NV44I4VS-Durqfvdj.js"></script>
<script type="module" src="/docs/static/ganttDiagram-JELNMOA3-COOaPycs.js"></script>
<script type="module" src="/docs/static/gitGraph-F6HP7TQM-CqS9sC5f.js"></script>
<script type="module" src="/docs/static/gitGraphDiagram-NY62KEGX-BQN4gPQ9.js"></script>
<script type="module" src="/docs/static/index-CvuEZtbh.js"></script>
<script type="module" src="/docs/static/info-NVLQJR56-BUcKGpxN.js"></script>
<script type="module" src="/docs/static/infoDiagram-WHAUD3N6-D7Xs3PNk.js"></script>
<script type="module" src="/docs/static/journeyDiagram-XKPGCS4Q-C0gcrYJQ.js"></script>
<script type="module" src="/docs/static/kanban-definition-3W4ZIXB7-DA5VTkMF.js"></script>
<script type="module" src="/docs/static/katex-DDX8Hq9d.js"></script>
<script type="module" src="/docs/static/mermaid-DyDSBgik.js"></script>
<script type="module" src="/docs/static/mindmap-definition-VGOIOE7T-CeGF8Nug.js"></script>
<script type="module" src="/docs/static/packet-BFZMPI3H-BiSDgaWb.js"></script>
<script type="module" src="/docs/static/pie-7BOR55EZ-6DVHbXh5.js"></script>
<script type="module" src="/docs/static/pieDiagram-ADFJNKIX-D8LeIfHz.js"></script>
<script type="module" src="/docs/static/quadrantDiagram-AYHSOK5B-CT_QATm0.js"></script>
<script type="module" src="/docs/static/radar-NHE76QYJ-DmqrXv6L.js"></script>
<script type="module" src="/docs/static/requirementDiagram-UZGBJVZJ-BbaHa2fs.js"></script>
<script type="module" src="/docs/static/rolldown-runtime-BfSZLbwf.js"></script>
<script type="module" src="/docs/static/sankeyDiagram-TZEHDZUN-D9YTmh-I.js"></script>
<script type="module" src="/docs/static/sequenceDiagram-WL72ISMW-D9tLLYI1.js"></script>
<script type="module" src="/docs/static/stateDiagram-FKZM4ZOC-C__hSZA6.js"></script>
<script type="module" src="/docs/static/stateDiagram-v2-4FDKWEC3-i8H-EINL.js"></script>
<script type="module" src="/docs/static/timeline-definition-IT6M3QCI-xF8WKVt0.js"></script>
<script type="module" src="/docs/static/treemap-KMMF4GRG-DIUMOj6d.js"></script>
<script type="module" src="/docs/static/xychartDiagram-PRI3JC2R-BDCeeoNZ.js"></script>
<script type="module" src="/docs/search-index.js"></script>
<script type="module">
document.getElementById('znai').innerHTML = '';
/*<!--*/
/*
 * Copyright 2025 znai maintainers
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function initializeSearchIndex() {
    if (window.znaiSearchData) {
        window.znaiSearchIdx = window.createLocalSearchIndex();
        window.populateLocalSearchIndexWithData(window.znaiSearchIdx, window.znaiSearchData);
    }
}

// Call the method to initialize the search index.
initializeSearchIndex();

window.ReactDOM.render(React.createElement(Documentation, {
  "docMeta" : {
    "viewOn" : {
      "link" : "https://github.com/liftwizard/liftwizard/blob/main/docs/src/main/znai",
      "title" : "View On GitHub"
    },
    "id" : "docs",
    "title" : "Liftwizard",
    "type" : "Guide",
    "previewEnabled" : false
  },
  "page" : {
    "type" : "Page",
    "content" : [ {
      "type" : "Paragraph",
      "content" : [ {
        "text" : "Dropwizard comes with support for dynamic configuration of ",
        "type" : "SimpleText"
      }, {
        "url" : "https://www.dropwizard.io/en/latest/manual/core.html#logging-filters",
        "isFile" : false,
        "type" : "Link",
        "content" : [ {
          "text" : "log filters",
          "type" : "SimpleText"
        } ]
      }, {
        "text" : ". However, it ships with just a single filter, the ",
        "type" : "SimpleText"
      }, {
        "url" : "https://www.dropwizard.io/en/latest/manual/core.html#filtering-request-logs-for-a-specific-uri",
        "isFile" : false,
        "type" : "Link",
        "content" : [ {
          "text" : "UriFilterFactory",
          "type" : "SimpleText"
        } ]
      }, {
        "text" : ".",
        "type" : "SimpleText"
      } ]
    }, {
      "type" : "BlockQuote",
      "content" : [ {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "One can create logging filters that will intercept log statements before they are written and decide if theyâ€™re allowed. Log filters can work on both regular statements and request log statements.",
          "type" : "SimpleText"
        } ]
      } ]
    }, {
      "type" : "Paragraph",
      "content" : [ {
        "text" : "Liftwizard provides an improved ",
        "type" : "SimpleText"
      }, {
        "code" : "RequestUrlFilterFactory",
        "type" : "InlinedCode"
      }, {
        "text" : " for request logs and ",
        "type" : "SimpleText"
      }, {
        "code" : "JaninoFilterFactory",
        "type" : "InlinedCode"
      }, {
        "text" : " for plain logs.",
        "type" : "SimpleText"
      } ]
    }, {
      "id" : "requesturlfilterfactory",
      "additionalIds" : [ ],
      "level" : 2,
      "title" : "RequestUrlFilterFactory",
      "type" : "SubHeading"
    }, {
      "type" : "Paragraph",
      "content" : [ {
        "code" : "RequestUrlFilterFactory",
        "type" : "InlinedCode"
      }, {
        "text" : " is an improved version of ",
        "type" : "SimpleText"
      }, {
        "code" : "UriFilterFactory",
        "type" : "InlinedCode"
      }, {
        "text" : ". It can filter access logs that do or don't match a list of urls.",
        "type" : "SimpleText"
      } ]
    }, {
      "type" : "Paragraph",
      "content" : [ {
        "text" : "To use it, add a dependency on ",
        "type" : "SimpleText"
      }, {
        "code" : "liftwizard-config-logging-filter-requesturl",
        "type" : "InlinedCode"
      }, {
        "text" : ". Then add a filter factory to your config with type ",
        "type" : "SimpleText"
      }, {
        "code" : "url",
        "type" : "InlinedCode"
      }, {
        "text" : " and a list of ",
        "type" : "SimpleText"
      }, {
        "code" : "urls",
        "type" : "InlinedCode"
      }, {
        "text" : " to include or exclude. The default value of ",
        "type" : "SimpleText"
      }, {
        "code" : "onMatch",
        "type" : "InlinedCode"
      }, {
        "text" : " is ",
        "type" : "SimpleText"
      }, {
        "code" : "ch.qos.logback.core.spi.FilterReply.DENY",
        "type" : "InlinedCode"
      }, {
        "text" : ".",
        "type" : "SimpleText"
      } ]
    }, {
      "data" : {
        "requestLog" : {
          "appenders" : [ {
            "type" : "console",
            "filterFactories" : [ {
              "type" : "url",
              "onMatch" : "DENY",
              "urls" : [ "/icons/", "/static/", "/manifest.json", "/assets-manifest.json", "/favicon.ico", "/service-worker.js" ]
            } ]
          } ]
        }
      },
      "highlightValues" : [ ],
      "highlightKeys" : [ ],
      "type" : "Json"
    }, {
      "id" : "janinofilterfactory",
      "additionalIds" : [ ],
      "level" : 2,
      "title" : "JaninoFilterFactory",
      "type" : "SubHeading"
    }, {
      "type" : "Paragraph",
      "content" : [ {
        "code" : "JaninoFilterFactory",
        "type" : "InlinedCode"
      }, {
        "text" : " allows you to specify the filter condition in a snippet of Java code that gets compiled with ",
        "type" : "SimpleText"
      }, {
        "url" : "https://janino-compiler.github.io/janino/",
        "isFile" : false,
        "type" : "Link",
        "content" : [ {
          "text" : "Janino",
          "type" : "SimpleText"
        } ]
      }, {
        "text" : ".",
        "type" : "SimpleText"
      } ]
    }, {
      "type" : "Paragraph",
      "content" : [ {
        "text" : "To use it, add a dependency on ",
        "type" : "SimpleText"
      }, {
        "code" : "liftwizard-config-logging-filter-janino",
        "type" : "InlinedCode"
      }, {
        "text" : ". Then add a filter factory to your config with type ",
        "type" : "SimpleText"
      }, {
        "code" : "janino",
        "type" : "InlinedCode"
      }, {
        "text" : " and a ",
        "type" : "SimpleText"
      }, {
        "code" : "javaExpression",
        "type" : "InlinedCode"
      }, {
        "text" : " that evaluates to a boolean. The default value of ",
        "type" : "SimpleText"
      }, {
        "code" : "onMatch",
        "type" : "InlinedCode"
      }, {
        "text" : " is ",
        "type" : "SimpleText"
      }, {
        "code" : "ch.qos.logback.core.spi.FilterReply.DENY",
        "type" : "InlinedCode"
      }, {
        "text" : ".",
        "type" : "SimpleText"
      } ]
    }, {
      "lang" : "json5",
      "snippet" : "{\n\tlogging: {\n\t\tlevel: \"DEBUG\",\n\t\tappenders: [\n\t\t\t{\n\t\t\t\ttype: \"console\",\n\t\t\t\ttimeZone: \"${LOGGING_TIMEZONE:-system}\",\n\t\t\t\tlogFormat: \"%highlight(%-5level) %cyan(%date{HH:mm:ss.SSS, %dwTimeZone}) %gray(\\\\(%file:%line\\\\)) [%white(%thread)] %blue(%marker) {%magenta(%mdc)} %green(%logger): %message%n%rootException\",\n\t\t\t\tfilterFactories: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: \"janino\",\n\t\t\t\t\t\tjavaExpression: 'logger.equals(\"io.liftwizard.logging.p6spy.P6SpySlf4jLogger\") && mdc.get(\"liftwizard.bundle\").equals(\"DdlExecutorBundle\")',\n\t\t\t\t\t\tonMatch: \"DENY\",\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t],\n\t},\n}",
      "lineNumber" : "",
      "type" : "Snippet"
    } ],
    "lastModifiedTime" : 1771537682073,
    "tocItem" : {
      "chapterTitle" : "Logging",
      "pageTitle" : "Filter Factories",
      "pageMeta" : { },
      "dirName" : "logging",
      "fileName" : "filter-factories",
      "fileExtension" : "md",
      "viewOnRelativePath" : null,
      "pageSectionIdTitles" : [ ]
    }
  }
}), document.getElementById("znai"));
/*-->*/

</script>

</body>
</html>
