<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" /> 
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"> 
<title>Liftwizard: Buffered Logging</title>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JBFKWT91J2"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag() {
		dataLayer.push(arguments);
	}
	gtag("js", new Date());

	gtag("config", "G-JBFKWT91J2");
</script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-JBFKWT91J2"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag() {
		dataLayer.push(arguments);
	}
	gtag("js", new Date());

	gtag("config", "G-JBFKWT91J2");
</script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-JBFKWT91J2"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag() {
		dataLayer.push(arguments);
	}
	gtag("js", new Date());

	gtag("config", "G-JBFKWT91J2");
</script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-JBFKWT91J2"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag() {
		dataLayer.push(arguments);
	}
	gtag("js", new Date());

	gtag("config", "G-JBFKWT91J2");
</script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-JBFKWT91J2"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag() {
		dataLayer.push(arguments);
	}
	gtag("js", new Date());

	gtag("config", "G-JBFKWT91J2");
</script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-JBFKWT91J2"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag() {
		dataLayer.push(arguments);
	}
	gtag("js", new Date());

	gtag("config", "G-JBFKWT91J2");
</script>
<link rel="stylesheet" type="text/css" href="/docs/static/css/katex.min.css">
<link rel="stylesheet" type="text/css" href="/docs/static/main.css">
<link rel="stylesheet" type="text/css" href="/docs/static/css/global-overrides.css">
<link rel="stylesheet" type="text/css" href="/docs/static/css/global-overrides.css">
<link rel="stylesheet" type="text/css" href="/docs/static/css/global-overrides.css">
</head>
<link rel="shortcut icon" href="/docs/favicon.png"type="image/ico"/>
<body class="znai-theme theme-znai-dark">
<script>(function() {
    var themeNameKey = 'znaiTheme';
    var darkThemeName = 'znai-dark';
    var lightThemeName = 'default';

    var znaiTheme = {
        changeHandlers: [],
        addChangeHandler(handler) {
            this.changeHandlers.push(handler);
        },
        removeChangeHandler(handler) {
            var idx = this.changeHandlers.indexOf(handler);
            this.changeHandlers.splice(idx, 1);
        },
        set(name) {
            this.name = name;
            document.body.className = 'znai-theme theme-' + name;

            var idx = 0;
            var len = this.changeHandlers.length;
            for (; idx < len; idx++) {
                this.changeHandlers[idx](name);
            }
        },
        setExplicitly(name) {
            storeThemeName(name);
            this.set(name);
        },
        setExplicitlyIfNotSetAlready(name) {
            const themeName = getStoredThemeName();
            if (themeName) {
                return
            }

            this.setExplicitly(name)
        },
        toggle() {
            this.setExplicitly(this.name === lightThemeName ? darkThemeName : lightThemeName)
        }
    };

    var mediaThemeName = setLightMatchMediaListenerAndGetThemeName()
    var themeName = getStoredThemeName() || mediaThemeName;
    znaiTheme.set(themeName);

    window.znaiTheme = znaiTheme;

    function getStoredThemeName() {
        return localStorage.getItem(themeNameKey);
    }

    function storeThemeName(name) {
        return localStorage.setItem(themeNameKey, name);
    }

    function setLightMatchMediaListenerAndGetThemeName() {
        if (!window.matchMedia) {
            return darkThemeName;
        }

        var lightQuery = window.matchMedia('(prefers-color-scheme: light)');
        lightQuery.addListener(function (e) {
            const newThemeName = e.matches ? lightThemeName : darkThemeName;
            znaiTheme.setExplicitly(newThemeName);
        });

        return lightQuery.matches ? lightThemeName : darkThemeName;
    }
})()</script>
<div id="znai"><div id="znai-initial-page-loading" style="margin: -20px 0 0 -20px; padding: 0 40px 40px 0; width: 100vw; height: 100vh; display: flex; justify-content: center; align-items: center">
    <div></div>
</div><section id="page-content" style="max-width: 640px; margin-left: auto; margin-right: auto;">
<article>
<p>In unit tests it can be useful to suppress all logging for successful tests but still log everything when tests fail In order to accomplish this we need to buffer all logging before we know the result of the test and then flush or clear the buffer once we know the outcome BufferedAppender is the logback appender that buffers all logging until it receives a or marker You can use directly in logback configuration It requires a delegate appender for flushing declared using an tagName configuration attributes name packagingData value true children tagName appender attributes name name value Console name class value ch qos logback core ConsoleAppender children tagName encoder attributes children tagName pattern attributes children tagName text %highlight % 5level %cyan %date HH mm ss SSS $ LOGGING_TIMEZONE %gray %file %line %white %thread %blue %marker %magenta %mdc %green %logger %message%n%rootException tagName appender attributes name name value Buffered name class value io liftwizard logging logback appender buffered BufferedAppender children tagName appender ref attributes name ref value Console children tagName root attributes name level value INFO children tagName appender ref attributes name ref value Buffered children lives in the module Log Markers We must log and markers to instruct to clear or flush its logs If you are using JUnit 4 or 5 you can use the included Rule or Extension to log these markers automatically JUnit 4 is a JUnit 4 that clears the buffer before all tests and flushes the buffer after failed tests It does this by logging and markers lives in the module LogMarkerTestRule Rule CLEAR FLUSH public class ExampleTest @Rule public final TestRule logMarkerTestRule new LogMarkerTestRule @Test public void smokeTest test code LogMarkerTestRule liftwizard junit rule log marker &lt;dependency&gt; &lt;groupId&gt;io liftwizard&lt; groupId&gt; &lt;artifactId&gt;liftwizard junit rule log marker&lt; artifactId&gt; &lt;scope&gt;test&lt; scope&gt; &lt; dependency&gt; JUnit 5 is a JUnit 5 that clears the buffer before all tests and flushes the buffer after failed tests It does this by logging and markers lives in the module LogMarkerTestExtension Extension CLEAR FLUSH @ExtendWith LogMarkerTestExtension class public class ExampleTest @Test public void smokeTest test code LogMarkerTestExtension liftwizard junit extension log marker &lt;dependency&gt; &lt;groupId&gt;io liftwizard&lt; groupId&gt; &lt;artifactId&gt;liftwizard junit extension log marker&lt; artifactId&gt; &lt;scope&gt;test&lt; scope&gt; &lt; dependency&gt; BufferedAppenderFactory The allows you to use an appender with the type where you would otherwise use in your Dropwizard configuration lives in the module Note is primarily useful for tests that use Dropwizard s JUnit 4 Rule or Dropwizard s JUnit 5 Extension JUnit 4 needs to be an inner rule when used together with DropwizardAppRule Both rules tear down logging and needs to perform its tear down first to flush its contents to the console LogMarkerTestRule LogMarkerTestRule private final TestRule logMarkerTestRule new LogMarkerTestRule private final DropwizardAppRule&lt;MyAppConfiguration&gt; dropwizardAppRule new DropwizardAppRule&lt;&gt; MyApplication class ResourceHelpers resourceFilePath test example json5 @Rule public final RuleChain ruleChain RuleChain outerRule this dropwizardAppRule around this logMarkerTestRule JUnit 5 was used as an annotation in the previous example When used together with it ought to be a field to control execution order Both extensions tear down logging and needs to perform its tear down first to flush its contents to the console LogMarkerTestExtension DropwizardAppExtension LogMarkerTestExtension @RegisterExtension final DropwizardAppExtension&lt;MyAppConfiguration&gt; dropwizardAppExtension new DropwizardAppExtension&lt;&gt; MyApplication class ResourceHelpers resourceFilePath test example json5 @RegisterExtension final LogMarkerTestExtension logMarkerTestExtension new LogMarkerTestExtension BufferedAppender CLEAR FLUSH appender ref BufferedAppender liftwizard logging buffered appender &lt;dependency&gt; &lt;groupId&gt;io liftwizard&lt; groupId&gt; &lt;artifactId&gt;liftwizard logging buffered appender&lt; artifactId&gt; &lt;scope&gt;test&lt; scope&gt; &lt; dependency&gt; CLEAR FLUSH BufferedAppender BufferedAppenderFactory buffered console logging level DEBUG appenders type buffered timeZone $ LOGGING_TIMEZONE system logFormat %highlight % 5level %cyan %date HH mm ss SSS %dwTimeZone %gray %file %line %white %thread %blue %marker %magenta %mdc %green %logger %message%n%rootException includeCallerData true BufferedAppenderFactory liftwizard config logging buffered &lt;dependency&gt; &lt;groupId&gt;io liftwizard&lt; groupId&gt; &lt;artifactId&gt;liftwizard config logging buffered&lt; artifactId&gt; &lt;scope&gt;test&lt; scope&gt; &lt; dependency&gt; BufferedAppenderFactory DropwizardAppRule DropwizardAppExtension</p>
</article>
</section>
<section id="table-of-contents" style="max-width: 640px; margin-left: auto; margin-right: auto;">
<article>
<a href="/docs/introduction/liftwizard/">Liftwizard</a>
</article>

<article>
<a href="/docs/configuration/environment-variable-substitution/">Environment Variable Substitution</a>
</article>

<article>
<a href="/docs/configuration/json5-configuration/">Json5 Configuration</a>
</article>

<article>
<a href="/docs/configuration/ConfigLoggingBundle/">ConfigLoggingBundle</a>
</article>

<article>
<a href="/docs/jackson/ObjectMapperBundle/">ObjectMapperBundle</a>
</article>

<article>
<a href="/docs/logging/JerseyHttpLoggingBundle/">JerseyHttpLoggingBundle</a>
</article>

<article>
<a href="/docs/logging/buffered-logging/">Buffered Logging</a>
</article>

<article>
<a href="/docs/logging/filter-factories/">Filter Factories</a>
</article>

<article>
<a href="/docs/logging/Slf4jUncaughtExceptionHandlerBundle/">Slf4jUncaughtExceptionHandlerBundle</a>
</article>

<article>
<a href="/docs/graphql/bundle/">Bundle</a>
</article>

<article>
<a href="/docs/graphql/instrumentation-logging/">Instrumentation Logging</a>
</article>

<article>
<a href="/docs/graphql/instrumentation-metrics/">Instrumentation Metrics</a>
</article>

<article>
<a href="/docs/graphql/data-fetcher-async/">Data Fetcher Async</a>
</article>

<article>
<a href="/docs/reladomo/reladomo-overview/">Reladomo Overview</a>
</article>

<article>
<a href="/docs/reladomo/reladomo-operation-compiler/">Reladomo Operation Compiler</a>
</article>

<article>
<a href="/docs/database/named-data-source/">Named Data Source</a>
</article>

<article>
<a href="/docs/database/liquibase-migrations/">Liquibase Migrations</a>
</article>

<article>
<a href="/docs/auth/dynamic-authentication-and-impersonation/">Dynamic Authentication And Impersonation</a>
</article>

<article>
<a href="/docs/testing/testing/">Testing</a>
</article>

<article>
<a href="/docs/testing/matching-files/">Matching Files</a>
</article>

<article>
<a href="/docs/testing/matching-json/">Matching Json</a>
</article>

<article>
<a href="/docs/maven/maven-best-practices/">Maven Best Practices</a>
</article>

<article>
<a href="/docs/maven/minimal-parent/">Minimal Parent</a>
</article>

<article>
<a href="/docs/maven/profile-parent/">Profile Parent</a>
</article>

<article>
<a href="/docs/maven/bill-of-materials/">Bill Of Materials</a>
</article>

<article>
<a href="/docs/temporal-data/temporal-data-overview/">Temporal Data Overview</a>
</article>

<article>
<a href="/docs/temporal-data/running-example/">Running Example</a>
</article>

<article>
<a href="/docs/temporal-data/non-destructive-updates/">Non Destructive Updates</a>
</article>

<article>
<a href="/docs/temporal-data/as-of-queries/">As Of Queries</a>
</article>

<article>
<a href="/docs/temporal-data/versioning/">Versioning</a>
</article>

<article>
<a href="/docs/temporal-data/auditing/">Auditing</a>
</article>

<article>
<a href="/docs/temporal-data/optimistic-locking/">Optimistic Locking</a>
</article>

<article>
<a href="/docs/temporal-data/diffs/">Diffs</a>
</article>

<article>
<a href="/docs/temporal-data/maker-checker-workflows/">Maker Checker Workflows</a>
</article>
</section>
</div>
<script type="text/javascript" src="/docs/footer.js"></script>
<script type="text/javascript" src="/docs/toc.js"></script>
<script type="text/javascript" src="/docs/assets.js"></script>
<script type="module" src="/docs/static/__vite-browser-external-8Pss11n5.js"></script>
<script type="module" src="/docs/static/architecture-U656AL7Q-DjPBJmSV.js"></script>
<script type="module" src="/docs/static/architectureDiagram-VXUJARFQ-ChBn1xk8.js"></script>
<script type="module" src="/docs/static/blockDiagram-VD42YOAC-Budi6d17.js"></script>
<script type="module" src="/docs/static/c4Diagram-YG6GDRKO-Blf-Q85b.js"></script>
<script type="module" src="/docs/static/classDiagram-2ON5EDUG-CV-r9Le6.js"></script>
<script type="module" src="/docs/static/classDiagram-v2-WZHVMYZB-FjmVyVcW.js"></script>
<script type="module" src="/docs/static/cose-bilkent-S5V4N54A-CwokiWn5.js"></script>
<script type="module" src="/docs/static/dagre-6UL2VRFP-qGDT-4E-.js"></script>
<script type="module" src="/docs/static/diagram-PSM6KHXK-asygiqY4.js"></script>
<script type="module" src="/docs/static/diagram-QEK2KX5R-RckI0Vxl.js"></script>
<script type="module" src="/docs/static/diagram-S2PKOQOG-D3NvEb3Q.js"></script>
<script type="module" src="/docs/static/erDiagram-Q2GNP2WA-Cyp4lw77.js"></script>
<script type="module" src="/docs/static/flowDiagram-NV44I4VS-Durqfvdj.js"></script>
<script type="module" src="/docs/static/ganttDiagram-JELNMOA3-COOaPycs.js"></script>
<script type="module" src="/docs/static/gitGraph-F6HP7TQM-CqS9sC5f.js"></script>
<script type="module" src="/docs/static/gitGraphDiagram-NY62KEGX-BQN4gPQ9.js"></script>
<script type="module" src="/docs/static/index-CvuEZtbh.js"></script>
<script type="module" src="/docs/static/info-NVLQJR56-BUcKGpxN.js"></script>
<script type="module" src="/docs/static/infoDiagram-WHAUD3N6-D7Xs3PNk.js"></script>
<script type="module" src="/docs/static/journeyDiagram-XKPGCS4Q-C0gcrYJQ.js"></script>
<script type="module" src="/docs/static/kanban-definition-3W4ZIXB7-DA5VTkMF.js"></script>
<script type="module" src="/docs/static/katex-DDX8Hq9d.js"></script>
<script type="module" src="/docs/static/mermaid-DyDSBgik.js"></script>
<script type="module" src="/docs/static/mindmap-definition-VGOIOE7T-CeGF8Nug.js"></script>
<script type="module" src="/docs/static/packet-BFZMPI3H-BiSDgaWb.js"></script>
<script type="module" src="/docs/static/pie-7BOR55EZ-6DVHbXh5.js"></script>
<script type="module" src="/docs/static/pieDiagram-ADFJNKIX-D8LeIfHz.js"></script>
<script type="module" src="/docs/static/quadrantDiagram-AYHSOK5B-CT_QATm0.js"></script>
<script type="module" src="/docs/static/radar-NHE76QYJ-DmqrXv6L.js"></script>
<script type="module" src="/docs/static/requirementDiagram-UZGBJVZJ-BbaHa2fs.js"></script>
<script type="module" src="/docs/static/rolldown-runtime-BfSZLbwf.js"></script>
<script type="module" src="/docs/static/sankeyDiagram-TZEHDZUN-D9YTmh-I.js"></script>
<script type="module" src="/docs/static/sequenceDiagram-WL72ISMW-D9tLLYI1.js"></script>
<script type="module" src="/docs/static/stateDiagram-FKZM4ZOC-C__hSZA6.js"></script>
<script type="module" src="/docs/static/stateDiagram-v2-4FDKWEC3-i8H-EINL.js"></script>
<script type="module" src="/docs/static/timeline-definition-IT6M3QCI-xF8WKVt0.js"></script>
<script type="module" src="/docs/static/treemap-KMMF4GRG-DIUMOj6d.js"></script>
<script type="module" src="/docs/static/xychartDiagram-PRI3JC2R-BDCeeoNZ.js"></script>
<script type="module" src="/docs/search-index.js"></script>
<script type="module">
document.getElementById('znai').innerHTML = '';
/*<!--*/
/*
 * Copyright 2025 znai maintainers
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function initializeSearchIndex() {
    if (window.znaiSearchData) {
        window.znaiSearchIdx = window.createLocalSearchIndex();
        window.populateLocalSearchIndexWithData(window.znaiSearchIdx, window.znaiSearchData);
    }
}

// Call the method to initialize the search index.
initializeSearchIndex();

window.ReactDOM.render(React.createElement(Documentation, {
  "docMeta" : {
    "viewOn" : {
      "link" : "https://github.com/liftwizard/liftwizard/blob/main/docs/src/main/znai",
      "title" : "View On GitHub"
    },
    "id" : "docs",
    "title" : "Liftwizard",
    "type" : "Guide",
    "previewEnabled" : false
  },
  "page" : {
    "type" : "Page",
    "content" : [ {
      "type" : "Paragraph",
      "content" : [ {
        "text" : "In unit tests, it can be useful to suppress all logging for successful tests, but still log everything when tests fail.",
        "type" : "SimpleText"
      } ]
    }, {
      "type" : "Paragraph",
      "content" : [ {
        "text" : "In order to accomplish this, we need to buffer all logging before we know the result of the test, and then flush or clear the buffer once we know the outcome.",
        "type" : "SimpleText"
      } ]
    }, {
      "id" : "bufferedappender",
      "additionalIds" : [ ],
      "level" : 2,
      "title" : "BufferedAppender",
      "type" : "SubHeading"
    }, {
      "type" : "Paragraph",
      "content" : [ {
        "code" : "BufferedAppender",
        "type" : "InlinedCode"
      }, {
        "text" : " is the logback appender that buffers all logging until it receives a ",
        "type" : "SimpleText"
      }, {
        "code" : "CLEAR",
        "type" : "InlinedCode"
      }, {
        "text" : " or ",
        "type" : "SimpleText"
      }, {
        "code" : "FLUSH",
        "type" : "InlinedCode"
      }, {
        "text" : " marker.",
        "type" : "SimpleText"
      } ]
    }, {
      "type" : "Paragraph",
      "content" : [ {
        "text" : "You can use directly in logback configuration. It requires a delegate appender for flushing, declared using an ",
        "type" : "SimpleText"
      }, {
        "code" : "appender-ref",
        "type" : "InlinedCode"
      }, {
        "text" : ".",
        "type" : "SimpleText"
      } ]
    }, {
      "title" : "logback-test.xml",
      "xmlAsJson" : {
        "tagName" : "configuration",
        "attributes" : [ {
          "name" : "packagingData",
          "value" : "\"true\""
        } ],
        "children" : [ {
          "tagName" : "appender",
          "attributes" : [ {
            "name" : "name",
            "value" : "\"Console\""
          }, {
            "name" : "class",
            "value" : "\"ch.qos.logback.core.ConsoleAppender\""
          } ],
          "children" : [ {
            "tagName" : "encoder",
            "attributes" : [ ],
            "children" : [ {
              "tagName" : "pattern",
              "attributes" : [ ],
              "children" : [ {
                "tagName" : "",
                "text" : "%highlight(%-5level) %cyan(%date{HH:mm:ss.SSS, ${LOGGING_TIMEZONE}}) %gray(\\(%file:%line\\)) [%white(%thread)] %blue(%marker) {%magenta(%mdc)} %green(%logger): %message%n%rootException"
              } ]
            } ]
          } ]
        }, {
          "tagName" : "appender",
          "attributes" : [ {
            "name" : "name",
            "value" : "\"Buffered\""
          }, {
            "name" : "class",
            "value" : "\"io.liftwizard.logging.logback.appender.buffered.BufferedAppender\""
          } ],
          "children" : [ {
            "tagName" : "appender-ref",
            "attributes" : [ {
              "name" : "ref",
              "value" : "\"Console\""
            } ],
            "children" : [ ]
          } ]
        }, {
          "tagName" : "root",
          "attributes" : [ {
            "name" : "level",
            "value" : "\"INFO\""
          } ],
          "children" : [ {
            "tagName" : "appender-ref",
            "attributes" : [ {
              "name" : "ref",
              "value" : "\"Buffered\""
            } ],
            "children" : [ ]
          } ]
        } ]
      },
      "paths" : [ ],
      "type" : "Xml"
    }, {
      "type" : "Paragraph",
      "content" : [ {
        "code" : "BufferedAppender",
        "type" : "InlinedCode"
      }, {
        "text" : " lives in the ",
        "type" : "SimpleText"
      }, {
        "code" : "liftwizard-logging-buffered-appender",
        "type" : "InlinedCode"
      }, {
        "text" : " module.",
        "type" : "SimpleText"
      } ]
    }, {
      "lang" : "xml",
      "snippet" : "<dependency>\n    <groupId>io.liftwizard</groupId>\n    <artifactId>liftwizard-logging-buffered-appender</artifactId>\n    <scope>test</scope>\n</dependency>",
      "lineNumber" : "",
      "type" : "Snippet"
    }, {
      "id" : "log-markers",
      "additionalIds" : [ ],
      "level" : 2,
      "title" : "Log Markers",
      "type" : "SubHeading"
    }, {
      "type" : "Paragraph",
      "content" : [ {
        "text" : "We must log ",
        "type" : "SimpleText"
      }, {
        "code" : "CLEAR",
        "type" : "InlinedCode"
      }, {
        "text" : " and ",
        "type" : "SimpleText"
      }, {
        "code" : "FLUSH",
        "type" : "InlinedCode"
      }, {
        "text" : " markers to instruct ",
        "type" : "SimpleText"
      }, {
        "code" : "BufferedAppender",
        "type" : "InlinedCode"
      }, {
        "text" : " to clear or flush its logs. If you are using JUnit 4 or 5, you can use the included Rule or Extension to log these markers automatically.",
        "type" : "SimpleText"
      } ]
    }, {
      "default" : "JUnit 5",
      "tabsContent" : [ {
        "name" : "JUnit 4",
        "content" : [ {
          "type" : "Paragraph",
          "content" : [ {
            "code" : "LogMarkerTestRule",
            "type" : "InlinedCode"
          }, {
            "text" : " is a JUnit 4 ",
            "type" : "SimpleText"
          }, {
            "code" : "Rule",
            "type" : "InlinedCode"
          }, {
            "text" : " that clears the buffer before all tests and flushes the buffer after failed tests. It does this by logging ",
            "type" : "SimpleText"
          }, {
            "code" : "CLEAR",
            "type" : "InlinedCode"
          }, {
            "text" : " and ",
            "type" : "SimpleText"
          }, {
            "code" : "FLUSH",
            "type" : "InlinedCode"
          }, {
            "text" : " markers.",
            "type" : "SimpleText"
          } ]
        }, {
          "lang" : "java",
          "snippet" : "public class ExampleTest\n{\n    @Rule\n    public final TestRule logMarkerTestRule = new LogMarkerTestRule();\n\n    @Test\n    public void smokeTest()\n    {\n        // test code\n    }\n}",
          "lineNumber" : "",
          "type" : "Snippet"
        }, {
          "type" : "Paragraph",
          "content" : [ {
            "code" : "LogMarkerTestRule",
            "type" : "InlinedCode"
          }, {
            "text" : " lives in the ",
            "type" : "SimpleText"
          }, {
            "code" : "liftwizard-junit-rule-log-marker",
            "type" : "InlinedCode"
          }, {
            "text" : " module.",
            "type" : "SimpleText"
          } ]
        }, {
          "lang" : "xml",
          "snippet" : "<dependency>\n    <groupId>io.liftwizard</groupId>\n    <artifactId>liftwizard-junit-rule-log-marker</artifactId>\n    <scope>test</scope>\n</dependency>",
          "lineNumber" : "",
          "type" : "Snippet"
        } ]
      }, {
        "name" : "JUnit 5",
        "content" : [ {
          "type" : "Paragraph",
          "content" : [ {
            "code" : "LogMarkerTestExtension",
            "type" : "InlinedCode"
          }, {
            "text" : " is a JUnit 5 ",
            "type" : "SimpleText"
          }, {
            "code" : "Extension",
            "type" : "InlinedCode"
          }, {
            "text" : " that clears the buffer before all tests and flushes the buffer after failed tests. It does this by logging ",
            "type" : "SimpleText"
          }, {
            "code" : "CLEAR",
            "type" : "InlinedCode"
          }, {
            "text" : " and ",
            "type" : "SimpleText"
          }, {
            "code" : "FLUSH",
            "type" : "InlinedCode"
          }, {
            "text" : " markers.",
            "type" : "SimpleText"
          } ]
        }, {
          "lang" : "java",
          "snippet" : "@ExtendWith(LogMarkerTestExtension.class)\npublic class ExampleTest\n{\n    @Test\n    public void smokeTest()\n    {\n        // test code\n    }\n}",
          "lineNumber" : "",
          "type" : "Snippet"
        }, {
          "type" : "Paragraph",
          "content" : [ {
            "code" : "LogMarkerTestExtension",
            "type" : "InlinedCode"
          }, {
            "text" : " lives in the ",
            "type" : "SimpleText"
          }, {
            "code" : "liftwizard-junit-extension-log-marker",
            "type" : "InlinedCode"
          }, {
            "text" : " module.",
            "type" : "SimpleText"
          } ]
        }, {
          "lang" : "xml",
          "snippet" : "<dependency>\n    <groupId>io.liftwizard</groupId>\n    <artifactId>liftwizard-junit-extension-log-marker</artifactId>\n    <scope>test</scope>\n</dependency>",
          "lineNumber" : "",
          "type" : "Snippet"
        } ]
      } ],
      "defaultTabIdx" : 1,
      "type" : "Tabs"
    }, {
      "id" : "bufferedappenderfactory",
      "additionalIds" : [ ],
      "level" : 2,
      "title" : "BufferedAppenderFactory",
      "type" : "SubHeading"
    }, {
      "type" : "Paragraph",
      "content" : [ {
        "text" : "The ",
        "type" : "SimpleText"
      }, {
        "code" : "BufferedAppenderFactory",
        "type" : "InlinedCode"
      }, {
        "text" : " allows you to use an appender with the type ",
        "type" : "SimpleText"
      }, {
        "code" : "buffered",
        "type" : "InlinedCode"
      }, {
        "text" : " where you would otherwise use ",
        "type" : "SimpleText"
      }, {
        "code" : "console",
        "type" : "InlinedCode"
      }, {
        "text" : " in your Dropwizard configuration.",
        "type" : "SimpleText"
      } ]
    }, {
      "lang" : "json5",
      "snippet" : "\"logging\": {\n  \"level\": \"DEBUG\",\n  \"appenders\": [\n    {\n      \"type\": \"buffered\",\n      \"timeZone\": \"${LOGGING_TIMEZONE:-system}\",\n      \"logFormat\": \"%highlight(%-5level) %cyan(%date{HH:mm:ss.SSS, %dwTimeZone}) %gray(\\\\(%file:%line\\\\)) [%white(%thread)] %blue(%marker) {%magenta(%mdc)} %green(%logger): %message%n%rootException\",\n      \"includeCallerData\": true,\n    },\n  ]\n}",
      "lineNumber" : "",
      "type" : "Snippet"
    }, {
      "type" : "Paragraph",
      "content" : [ {
        "code" : "BufferedAppenderFactory",
        "type" : "InlinedCode"
      }, {
        "text" : " lives in the ",
        "type" : "SimpleText"
      }, {
        "code" : "liftwizard-config-logging-buffered",
        "type" : "InlinedCode"
      }, {
        "text" : " module.",
        "type" : "SimpleText"
      } ]
    }, {
      "lang" : "xml",
      "snippet" : "<dependency>\n    <groupId>io.liftwizard</groupId>\n    <artifactId>liftwizard-config-logging-buffered</artifactId>\n    <scope>test</scope>\n</dependency>",
      "lineNumber" : "",
      "type" : "Snippet"
    }, {
      "type" : "Paragraph",
      "content" : [ {
        "text" : "Note: ",
        "type" : "SimpleText"
      }, {
        "code" : "BufferedAppenderFactory",
        "type" : "InlinedCode"
      }, {
        "text" : " is primarily useful for tests that use ",
        "type" : "SimpleText"
      }, {
        "url" : "https://www.dropwizard.io/en/release-2.1.x/manual/testing.html#junit-4",
        "isFile" : false,
        "type" : "Link",
        "content" : [ {
          "text" : "Dropwizard's JUnit 4 Rule",
          "type" : "SimpleText"
        } ]
      }, {
        "text" : " ",
        "type" : "SimpleText"
      }, {
        "code" : "DropwizardAppRule",
        "type" : "InlinedCode"
      }, {
        "text" : " or ",
        "type" : "SimpleText"
      }, {
        "url" : "https://www.dropwizard.io/en/release-2.1.x/manual/testing.html#junit-5",
        "isFile" : false,
        "type" : "Link",
        "content" : [ {
          "text" : "Dropwizard's JUnit 5 Extension",
          "type" : "SimpleText"
        } ]
      }, {
        "text" : " ",
        "type" : "SimpleText"
      }, {
        "code" : "DropwizardAppExtension",
        "type" : "InlinedCode"
      }, {
        "text" : ".",
        "type" : "SimpleText"
      } ]
    }, {
      "default" : "JUnit 5",
      "tabsContent" : [ {
        "name" : "JUnit 4",
        "content" : [ {
          "type" : "Paragraph",
          "content" : [ {
            "code" : "LogMarkerTestRule",
            "type" : "InlinedCode"
          }, {
            "text" : " needs to be an inner rule when used together with DropwizardAppRule. Both rules tear down logging, and ",
            "type" : "SimpleText"
          }, {
            "code" : "LogMarkerTestRule",
            "type" : "InlinedCode"
          }, {
            "text" : " needs to perform its tear down first, to flush its contents to the console.",
            "type" : "SimpleText"
          } ]
        }, {
          "lang" : "java",
          "snippet" : "private final TestRule logMarkerTestRule = new LogMarkerTestRule();\n\nprivate final DropwizardAppRule<MyAppConfiguration> dropwizardAppRule = new DropwizardAppRule<>(\n        MyApplication.class,\n        ResourceHelpers.resourceFilePath(\"test-example.json5\"));\n\n@Rule\npublic final RuleChain ruleChain = RuleChain\n        .outerRule(this.dropwizardAppRule)\n        .around(this.logMarkerTestRule);",
          "lineNumber" : "",
          "type" : "Snippet"
        } ]
      }, {
        "name" : "JUnit 5",
        "content" : [ {
          "type" : "Paragraph",
          "content" : [ {
            "code" : "LogMarkerTestExtension",
            "type" : "InlinedCode"
          }, {
            "text" : " was used as an annotation in the previous example. When used together with ",
            "type" : "SimpleText"
          }, {
            "code" : "DropwizardAppExtension",
            "type" : "InlinedCode"
          }, {
            "text" : ", it ought to be a field to control execution order. Both extensions tear down logging, and ",
            "type" : "SimpleText"
          }, {
            "code" : "LogMarkerTestExtension",
            "type" : "InlinedCode"
          }, {
            "text" : " needs to perform its tear down first, to flush its contents to the console.",
            "type" : "SimpleText"
          } ]
        }, {
          "lang" : "java",
          "snippet" : "@RegisterExtension\nfinal DropwizardAppExtension<MyAppConfiguration> dropwizardAppExtension = new DropwizardAppExtension<>(\n        MyApplication.class,\n        ResourceHelpers.resourceFilePath(\"test-example.json5\"));\n\n@RegisterExtension\nfinal LogMarkerTestExtension logMarkerTestExtension = new LogMarkerTestExtension();",
          "lineNumber" : "",
          "type" : "Snippet"
        } ]
      } ],
      "defaultTabIdx" : 1,
      "type" : "Tabs"
    } ],
    "lastModifiedTime" : 1771537682073,
    "tocItem" : {
      "chapterTitle" : "Logging",
      "pageTitle" : "Buffered Logging",
      "pageMeta" : { },
      "dirName" : "logging",
      "fileName" : "buffered-logging",
      "fileExtension" : "md",
      "viewOnRelativePath" : null,
      "pageSectionIdTitles" : [ ]
    }
  }
}), document.getElementById("znai"));
/*-->*/

</script>

</body>
</html>
