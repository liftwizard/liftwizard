{
  "template"                 : "Hello, %s!",
  // the key needs to match the configuration key of the renderer (ViewRenderer::getConfigurationKey)
  "defaultName"              : "${DW_DEFAULT_NAME:-Stranger}",
  "viewRendererConfiguration": {
    "freemarker": {
      "strict_syntax"       : "yes",
      "whitespace_stripping": "yes"
    }
  },
  "configLogging"            : {
    "enabled": true
  },
  "objectMapper"             : {
    "enabled"                : true,
    "prettyPrint"            : true,
    "failOnUnknownProperties": true,
    "serializationInclusion" : "NON_ABSENT",
    "defaultNullSetterInfo"  : "AS_EMPTY"
  },
  "jerseyHttpLogging"        : {
    "enabled"                : true,
    "includedRequestHeaders" : [
      "Host",
      "User-Agent",
      "Content-Type"
    ],
    "includedResponseHeaders": [
      "Host",
      "User-Agent",
      "Content-Type"
    ],
    "maxEntitySize"          : "8 kilobytes"
  },
  "h2"                       : {
    "enabled": true,
    "webPort": 8075,
    "tcpPort": 9075
  },
  "reladomo"                 : {
    "transactionTimeout"       : "5 minutes",
    "runtimeConfigurationPaths": [
      "reladomo-runtime-configuration/ReladomoRuntimeConfiguration.xml"
    ]
  },
  "dataSources"              : [
    {
      "driverClass"                : "com.p6spy.engine.spy.P6SpyDriver",
      "abandonWhenPercentageFull"  : 0,
      "alternateUsernamesAllowed"  : false,
      "commitOnReturn"             : false,
      "rollbackOnReturn"           : false,
      "readOnlyByDefault"          : false,
      "user"                       : "sa",
      "password"                   : "",
      "url"                        : "jdbc:p6spy:h2:tcp://localhost:9075/liftwizard-app-h2",
      "properties"                 : {
        "charSet": "UTF-8"
      },
      "defaultTransactionIsolation": "DEFAULT",
      "useFairQueue"               : true,
      "initialSize"                : 10,
      "minSize"                    : 10,
      "maxSize"                    : 100,
      "logAbandonedConnections"    : false,
      "logValidationErrors"        : true,
      "maxWaitForConnection"       : "1 second",
      "minIdleTime"                : "1 minute",
      "validationQuery"            : "/* Health Check */ SELECT 1",
      "checkConnectionWhileIdle"   : true,
      "checkConnectionOnBorrow"    : false,
      "checkConnectionOnConnect"   : true,
      "checkConnectionOnReturn"    : false,
      "autoCommentsEnabled"        : true,
      "evictionInterval"           : "5 seconds",
      "validationInterval"         : "30 seconds",
      "removeAbandoned"            : false,
      "removeAbandonedTimeout"     : "60 seconds",
      "ignoreExceptionOnPreLoad"   : false,
      "name"                       : "liquibase",
      "defaultReadOnly"            : false
    }
  ],
  "connectionManagers"       : [
    {
      "connectionManagerName": "liquibase",
      "dataSourceName"       : "liquibase",
      "databaseType"         : "H2",
      "schemaName"           : "liftwizard-app-h2",
      "timeZone"             : "UTC"
    }
  ],
  "server"                   : {
    "detailedJsonProcessingExceptionMapper": true,
    "applicationConnectors"                : [
      {
        "type": "http",
        "port": 8080,
      }
    ],
    "adminConnectors"                      : [
      {
        "type": "http",
        "port": 8081,
      }
    ],
    rootPath                               : "/api/"
  },
  "logging": {
    "level"    : "DEBUG",
    "loggers"  : {
      // Sets the level for 'com.example.app' to DEBUG.
      "com.example.app"                          : "DEBUG",
      // Redirects SQL logs to a separate file
      "org.hibernate.SQL"                        : {
        "level": "DEBUG"
      },
      "klass.model.meta.domain"                  : "INFO",
      "com.gs.fw.common.mithra.connectionmanager": "INFO",
      "org.eclipse.jetty"                        : "INFO",
      "org.apache.http"                          : "INFO",
      "org.hibernate.validator.internal"         : "INFO"
    },
    "appenders": [
      {
        "type": "console",
        "logFormat": "%highlight(%-5level) %cyan(%date{HH:mm:ss}) [%white(%thread)] %green(%logger): %message <%blue(%marker)> <%magenta(%mdc)>%n%red(%rootException)",
        "timeZone": "system",
        "includeCallerData": true,
      },
      {
        "type"                      : "file",
        "currentLogFilename"        : "./logs/application.log",
        "archive"                   : true,
        "archivedLogFilenamePattern": "./logs/application-%d-%i.log.gz",
        "archivedFileCount"         : 7,
        "maxFileSize"               : "1 megabyte"
      },
      {
        "type": "file-logstash",
        "threshold": "ALL",
        "timeZone": "UTC",
        "includeCallerData": true,
        "currentLogFilename": "./logs/logstash.json",
        "archivedLogFilenamePattern": "./logs/logstash-%d.json",
        "encoder": {
          "includeContext": true,
          "includeMdc": true,
          "includeStructuredArguments": true,
          "includedNonStructuredArguments": false,
          "includeTags": true,
          "prettyPrint": true,
          "serializationInclusion": "NON_ABSENT"
        }
      }
    ]
  }
}
